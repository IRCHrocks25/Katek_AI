{% extends 'myApp/website_dashboard/base.html' %}

{% block title %}Testimonials - Website CMS{% endblock %}
{% block page_title %}Testimonials{% endblock %}
{% block page_subtitle %}Manage customer testimonials{% endblock %}

{% block content %}
<div class="mb-6">
    <a href="{% url 'website_dashboard:testimonial_new' %}" class="inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium transition-colors">
        <i class="fas fa-plus mr-2"></i>Add New Testimonial
    </a>
</div>

<div class="bg-slate-800/50 border border-slate-700/50 rounded-lg overflow-hidden">
    <table class="w-full">
        <thead class="bg-slate-700/50">
            <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase">Author</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase">Quote</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase">Status</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase">Actions</th>
            </tr>
        </thead>
        <tbody class="divide-y divide-slate-700/50">
            {% for testimonial in testimonials %}
                <tr class="hover:bg-slate-700/30">
                    <td class="px-6 py-4">
                        <div class="text-sm font-medium text-slate-200">{{ testimonial.author_name }}</div>
                        <div class="text-xs text-slate-400">{{ testimonial.author_title }}</div>
                    </td>
                    <td class="px-6 py-4">
                        <div class="text-sm text-slate-300 line-clamp-2">{{ testimonial.quote|truncatewords:20 }}</div>
                    </td>
                    <td class="px-6 py-4">
                        {% if testimonial.is_active %}
                            <span class="px-2 py-1 text-xs font-medium bg-green-900/50 text-green-300 rounded">Active</span>
                        {% else %}
                            <span class="px-2 py-1 text-xs font-medium bg-slate-700/50 text-slate-400 rounded">Inactive</span>
                        {% endif %}
                    </td>
                    <td class="px-6 py-4">
                        <div class="flex items-center space-x-2">
                            <a href="{% url 'website_dashboard:testimonial_edit' testimonial.id %}" class="px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-sm text-white transition-colors">
                                Edit
                            </a>
                            <form method="POST" action="{% url 'website_dashboard:testimonial_delete' testimonial.id %}" class="inline" onsubmit="return confirm('Are you sure you want to delete this testimonial?');">
                                {% csrf_token %}
                                <button type="submit" class="px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm text-white transition-colors">
                                    Delete
                                </button>
                            </form>
                        </div>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="4" class="px-6 py-12 text-center text-slate-400">
                        No testimonials yet. <a href="{% url 'website_dashboard:testimonial_new' %}" class="text-blue-400 hover:text-blue-300">Add one</a>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

